# ========================================
# WINNING CODE LAB - SUPABASE CONFIGURATION
# ========================================

# ====================
# CORE SUPABASE
# ====================
# Get these from: https://app.supabase.com/project/_/settings/api

# Supabase Project URL
SUPABASE_URL=https://your-project-id.supabase.co

# Supabase Anonymous Key (Public Key - Safe for frontend)
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase Service Role Key (Private - Server/Edge Functions Only!)
# ⚠️ WARNING: Never expose this key in client-side code!
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ====================
# STORAGE BUCKETS
# ====================
# These buckets are auto-configured via migrations
# URLs are generated automatically: {SUPABASE_URL}/storage/v1/object/{bucket}/{path}

SUPABASE_STORAGE_PROJECT_UPLOADS=project_uploads
SUPABASE_STORAGE_BLOG_IMAGES=blog_images
SUPABASE_STORAGE_CLIENT_DOCUMENTS=client_documents
SUPABASE_STORAGE_AVATARS=avatars

# ====================
# EDGE FUNCTIONS
# ====================
# Edge Function URLs (auto-generated based on project)
# Format: {SUPABASE_URL}/functions/v1/{function-name}

SUPABASE_FUNCTION_CONTACT_FORM=${SUPABASE_URL}/functions/v1/contact-form-handler
SUPABASE_FUNCTION_SIGNED_URLS=${SUPABASE_URL}/functions/v1/generate-signed-urls
SUPABASE_FUNCTION_CLEANUP=${SUPABASE_URL}/functions/v1/scheduled-cleanup

# Cron job secret for scheduled functions
CRON_SECRET=generate-a-secure-random-string-here

# ====================
# EMAIL CONFIGURATION (Optional)
# ====================
# For custom email notifications (SendGrid, Resend, etc.)
# Leave empty to use Supabase's default email service

EMAIL_SERVICE_API_KEY=
EMAIL_FROM=noreply@winningcode.com
EMAIL_ADMIN=admin@winningcode.com

# ====================
# APPLICATION SETTINGS
# ====================

# Environment
NODE_ENV=development

# Application URL (for email links, OAuth redirects, etc.)
APP_URL=http://localhost:8080

# Default Language
DEFAULT_LANGUAGE=en

# Supported Languages (comma-separated)
SUPPORTED_LANGUAGES=en,fr,ht,es

# ====================
# SECURITY SETTINGS
# ====================

# Max file upload size (MB)
MAX_FILE_UPLOAD_MB=50

# Rate limiting (requests per hour per IP)
INQUIRY_RATE_LIMIT=5

# Session timeout (hours)
SESSION_TIMEOUT_HOURS=24

# ====================
# FEATURE FLAGS
# ====================

# Enable/disable features
ENABLE_BLOG=true
ENABLE_SERVICES=true
ENABLE_CLIENT_DASHBOARD=true
ENABLE_FILE_UPLOADS=true
ENABLE_NOTIFICATIONS=true

# ====================
# ANALYTICS (Optional)
# ====================

GOOGLE_ANALYTICS_ID=
FACEBOOK_PIXEL_ID=

# ====================
# OAUTH PROVIDERS (Optional)
# ====================
# Configure in Supabase Dashboard → Authentication → Providers

GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# ====================
# DEVELOPMENT ONLY
# ====================

# Local Supabase (if using supabase start)
# SUPABASE_URL=http://localhost:54321
# SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Debug mode
DEBUG=false
LOG_LEVEL=info

# ====================
# NOTES
# ====================
# 1. Never commit .env file to git
# 2. Keep .env.example updated with all variables
# 3. Service role key must only be used server-side
# 4. Generate secure random strings for CRON_SECRET
# 5. Update APP_URL for production deployment
